文件操作

   1：文件的分类

​          从用户的角度看，文件可分为普通文件和设备文件两种。

​          普通文件是指驻留在磁盘或其它外部介质上的一个有序数据集，可以是源文件、目标文

件、可执行程序；也可以是一组待输入处理的原始数据，或者是一组输出的结果。对于源文

件、目标文件、可执行程序可以称作程序文件，对输入输出数据可称作数据文件。

​           设备文件是指与主机相联的各种外部设备，如显示器、打印机、键盘等。在操作系统中，

把外部设备也看作是一个文件来进行管理，把它们的输入、输出等同于对磁盘文件的读和写。

​            从文件编码的方式来看，文件可分为 ASCII 码文件和二进制码文件两种。

```
对于这2种编码方式主要的区别是在于文件的存储数据的格式上的不同 ！
12 --> ASCII 00010010  对于二进制文件来说就是12---> 00001100
```

  2.文件指针的定义

​           FILE *指针变量标识符；

​          它实际上是由系统定义的一个结构，该结构中含有文件名、文件状态和文件当前位置等信息。在编写源程序时不必关心 FILE 结构的细节。‘

​           所以文件操作的原理：通过 fp 即可找存放某个文件信息的结构变量，然后按结构变量提供的信息找到该文件，实施对文件的操作。

​    3.文件操作函数

   ![](E:\java_C数据结构\Java-C_-\12\1.png)

​    ![](E:\java_C数据结构\Java-C_-\12\2.png)

文件操作的函数 ！

​    1.fclose 函数调用的一般形式是：fclose(文件指针)；

​    2.**读字符函数 fgetc** 

​        fgetc 函数的功能是从指定的文件中读一个字符，函数调用的形式为：

​        字符变量=fgetc(文件指针)；

​        例如：

​        ch=fgetc(fp);

​        其意义是从打开的文件 fp 中读取一个字符并送入 ch 中

```
       在文件内部有一个位置指针。用来指向文件的当前读写字节。在文件打开时，该指
    针总是指向文件的第一个字节。使用 fgetc 函数后，该位置指针将向后移动一个字
    节。 因此可连续多次使用 fgetc 函数，读取多个字符。应注意文件指针和文件内
    部的位置指针不是一回事。文件指针是指向整个文件的，须在程序中定义说明，只
    要不重新赋值，文件指针的值是不变的。文件内部的位置指针用以指示文件内部的
    当前读写位置，每读写一次，该指针均向后移动，它不需在程序中定义说明，而是
    由系统自动设置的。
```

​          对应的：

​       fputc('a',fp);

​      其意义是把字符 a 写入 fp 所指向的文件中。

```
 	对于 fputc 函数的使用也要说明几点：

    1) 被写入的文件可以用写、读写、追加方式打开，用写或读写方式打开一个已存在的

    文件时将清除原有的文件内容，写入字符从文件首开始。如需保留原有文件内容，

    希望写入的字符以文件末开始存放，必须以追加方式打开文件。被写入的文件若不

    存在，则创建该文件。

    2) 每写入一个字符，文件内部位置指针向后移动一个字节。

    3) fputc 函数有一个返回值，如写入成功则返回写入的字符，否则返回一个 EOF。可

    用此来判断写入是否成功。

```

