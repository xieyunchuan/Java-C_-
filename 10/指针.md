指针

   1.指针变量 ： 注意一个指针变量只能指向这个类型的地址！

   2.指针变量的运算符 ：  

```
   两个有关的运算符：
    1) &:取地址运算符。
    2) *：指针运算符（或称“间接访问” 运算符）。
```

  3.指针变量的运算 在这主要说指针的算术运算

```
   取地址运算符&:取地址运算符&是单目运算符，其结合性为自右至左，其功能是取变量的地址。
   取内容运算符*:取内容运算符*是单目运算符，其结合性为自右至左，用来表示指针变量所指的变量。
   需要注意的是指针运算符*和指针变量说明中的指针说明符*不是一回事。在指针变量说明中，“*”是类
型说明符，表示其后的变量是指针类型。而表达式中出现的“*”则是一个运算符用以表示指针变量所指的变
量。
```

​      1.指针变量的赋值运算  

```
    把数组的首地址赋予指向数组的指针变量。
    例如：
     int a[5],*pa=a;
     pa=a;
     (数组名表示数组的首地址，故可赋予指向数组的指针变量 pa)
    也可写为：
     pa=&a[0]; /*数组第一个元素的地址也是整个数组的首地址， 也可赋予 pa*/
    当然也可采取初始化赋值的方法：
     int a[5],*pa=a;
     
     把字符串的首地址赋予指向字符类型的指针变量。
    例如：
     char *pc;
     pc="C Language";
    或用初始化赋值的方法写为：
     char *pc="C Language";
    这里应说明的是并不是把整个字符串装入指针变量，而是把存放该字符串的字符数组的首地址装入
    指针变量。
    
    把函数的入口地址赋予指向函数的指针变量。
    例如：
     int (*pf)();
     pf=f; /*f 为函数名*/
     
     
```

​      2.指针的算术运算

```
  指针变量加或减一个整数 n 的意义是把指针指向的当前位置(指向某数组元素)向前或向后移动 n 个位置。应该注意，数组指针变量向前或向后移动一个位置和地址加 1 或减 1 在概念上是不同的。因为数组可以有不同的类型，各种类型的数组元素所占的字节长度是不同的。如指针变量加 1，即向后移动 1 个位置表示指针变量指向下一个数据元素的首地址。而不是在原地址基础上加 1。
```

​     3.两个指针变量之间的运算

```
  1两指针变量相减：两指针变量相减所得之差是两个指针所指数组元素之间相差的元素个数。
  2两指针变量进行关系运算：指向同一数组的两指针变量进行关系运算可表示它们所指数组元素之间
的关系。
例如：pf1==pf2 表示 pf1 和 pf2 指向同一数组元素；
```

​     4.数组和地址 数组和指针

​       数组的指针是指数组的起始地址，数组元素的指针是数组元素的地址。

1. C 语言规定，数组名代表数组的首地址，也就是第 0 号元素的地址。因此，下面两个语句等价：       p=&a[0];p=a;

2. 数组通过指针进行操作

   ```
   1.p+i 和 a+i 就是 a[i]的地址，或者说它们指向 a 数组的第 i 个元素
   2.*(p+i)或*(a+i)就是 p+i 或 a+i 所指向的数组元素，即 a[i]。
   3.指向数组的指针变量也可以带下标，如 p[i]与*(p+i)等价
   ```

   1) 下标法，即用 a[i]形式访问数组元素。在前面介绍数组时都是采用这种方法。

   2) 指针法，即采用*(a+i)或*(p+i)形式，用间接访问的方法来访问数组元素，其中 a 是数组名，p 是

   指向数组的指针变量，其处值 p=a。

   注意：

   1.指针变量可以实现本身的值的改变。如 p++是合法的；而 a++是错误的。因为 a 是数组名，它是数组的首地址，是常量

   2.*(p++)与*(++p)作用不同。若 p 的初值为 a，则*(p++)等价 a[0]，*(++p)等价 a[1]。

      (*p)++表示 p 所指向的元素值加 1。

      如果 p 当前指向 a 数组中的第 i 个元素，则

      *(p--)相当于 a[i--]；

      *(++p)相当于 a[++i]；

      *(--p)相当于 a[--i]

   ![](E:\java_C数据结构\Java-C_-\10\1.png)

   3:指针指指向多维数组的指针变量

   把二维数组 a 分解为一维数组 a[0],a[1],a[2]之后，设 p 为指向二维数组的指针变量。

   可定义为：  int (*p)[4]向二维数组:它表示 p 是一个指针变量，它指向包含 4 个元素的一维数组。若指向第一个一维数组a[0]，其值等于 a,a[0]，或&a[0][0]等。而 p+i 则指向一维数组 a[i]。

    类型说明符 (*指针变量名)[长度]

   ```
       main(){
        int a[3][4]={0,1,2,3,4,5,6,7,8,9,10,11};
        int(*p)[4];
        int i,j;
        p=a;
        for(i=0;i<3;i++)
       {for(j=0;j<4;j++) printf("%2d ",*(*(p+i)+j));
       printf("\n");}
       }
   ```

​       4:字符串指针变量的定义说明与指向字符变量的指针变量说明是相同的。只能按对指针

变量的赋值不同来区别。对指向字符变量的指针变量应赋予该字符变量的地址。

​       5：字符串指针方式和数组方式的差异

```
   1.字符串指针变量本身是一个变量，用于存放字符串的首地址。而字符串本身是存放在以该首地址为首的一块连续的内存空间中并以‘\0’作为串的结束。字符数组是由于若干个数组元素组成的，它可用来存放整个字符串。
   2.
    char *ps;
    ps="C Language";
    而对数组方式：
     static char st[]={"C Language"};
    不能写为：
     char st[20];
     st={"C Language"};
    而只能对字符数组的各元素逐个赋值。
```

​    6：函数指针变量

​        在Ｃ语言中，一个函数总是占用一段连续的内存区，而函数名就是该函数所占内存区的

​	首地址。我们可以把函数的这个首地址(或称入口地址)赋予一个指针变量，使该指针变量指

​	向该函数。然后通过指针变量就可以找到并调用这个函数。我们把这种指向函数的指针变量

​	称为“函数指针变量”。

​	函数指针变量定义的一般形式为：

​	类型说明符 (*指针变量名)();

​	其中“类型说明符”表示被指函数的返回值的类型。“(* 指针变量名)”表示“*”后面的变量

​	是定义的指针变量。最后的空括号表示指针变量所指的是一个函数。

```
    #include<stdio.h>
    int max(int a,int b){
     if(a>b)return a;
     else return b;
    }
    main(){
     int max(int a,int b);
     int(*pmax)(int a,int b);//这后面应该和max函数的参数一样
     int x,y,z;
     pmax=max;//直接赋地址
     printf("input two numbers:\n");
     scanf("%d%d",&x,&y);
     z=(*pmax)(x,y);//调用函数
     printf("maxmum=%d",z);
    }
```

   7：指针型函数

​    在Ｃ语言中允许一个函数的返回值是一个指针(即地址)，这种返回指针值的函数称为指针型函数。

   int *ap(int x,int y)

   {

​       //在函数体里面的变量   静态变量  

 ...... /*函数体*/

   }

  表示 ap 是一个返回指针值的指针型函数，它返回的指针指向一个整型变量。

```
    int(*p)()和 int *p()是两个完全不同的量。
    int (*p)()是一个变量说明，说明 p 是一个指向函数入口的指针变量，该函数的返回
    值是整型量，(*p)的两边的括号不能少。
    int *p()则不是变量说明而是函数说明，说明 p 是一个指针型函数，其返回值是一个
    指向整型量的指针，*p 两边没有括号。作为函数说明，在括号内最好写入形式参数，这样
    便于与变量说明区别。
```

 8：指向指针的指针

![](E:\java_C数据结构\Java-C_-\10\2.png)



9：对main函数的参数的说明

```
     DOS 提示符下命令行的一般形式为：
     C:\>可执行文件名 参数 参数……; 
     但是应该特别注意的是，main 的两个形参和命令行中的参数在位置上不是一一对应的。
    因为,main 的形参只有二个，而命令行中的参数个数原则上未加限制。argc 参数表示了命令
    行中参数的个数(注意：文件名本身也算一个参数)，argc 的值是在输入命令行时由系统按
    实际参数的个数自动赋予的。
    例如有命令行为：
     C:\>E24 BASIC foxpro FORTRAN
    由于文件名 E24 本身也算一个参数，所以共有 4 个参数，因此 argc 取得的值为 4。argv 参
    数是字符串指针数组，其各元素值为命令行中各字符串(参数均按字符串处理)的首地址。
```

10：必须要懂的知识

![](E:\java_C数据结构\Java-C_-\10\3.png)













